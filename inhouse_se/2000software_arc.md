

# 何を学べるのか

- 上司から任られたプロジェクトについて「アーキテクチャについてざっくり考えてきてください」といわれたとき

- そもそもどんなアーキテクチャが世の中にあるのか

- 新米アーキテクトとしてどうすればいいかわからないとき

特に、アーキテクトスタイル（アーキテクチャパターン）のことについて



# アーキテクチャを学ぶ意味

## アーキテクチャとは

世間一般の会話の流れだと以下のような図面のこと

<img src="https://image.itmedia.co.jp/edn/articles/1812/03/tt181130_MCUSTM2_001.jpg">

そしてソフトウェアの歴史の中で、幾度か同じようなパターンが出てくることがあり、中には名前がつくほど有名になるものがある。
たとえば、Eclipseのようなプラグインによって機能を拡張するタイプには、 **「プラグインアーキテクチャ」あるいは「マイクロカーネルアーキテクチャ」** という名前がつく。

このようなアーキテクチャのパターンの名前を、**「アーキテクチャスタイル」**と呼ぶ。


## アーキテクチャスタイルを覚える意味

経験豊富なアーキテクト同士の表現方法として機能します。

> イベント駆動の意味よりはマイクロサービスとしてコンポーネントを置いておきたい

> このコンポーネントはメディエーターとして機能するね

*「コンポーネント」とは「システムの構成要素」のこと。サーバーレベルだったりコンテナレベルだったりクラスレベルだったりする。どの程度の粒度になるかは文脈に依存する。*


## 見習うべきではないスタイル:巨大な泥団子

内部構造を持たず、**イベントハンドラがデータベースの呼び出しまでを行ってしまっているような**スクリプティングアプリケーション
現実の世界ではよく見られる。

このスタイルはいわば反面教師で、きちんとアーキテクチャを考慮しないと**クラスの変更の余波の予測が困難になり、関心ごとを分離することができなくなる**という教訓をもたらしてくれる。

### 補足：なぜアーキテクチャを決めるのか？

ここは感想だが、「クラスの変更の余波の予測が困難になり、関心ごとを分離することができなくなる」というのはコードの品質を保つための脅し文句にもなると思う

リファクタリングを怠るPMに向かって、「将来的にクラスの変更の余波の予測が困難になり、関心ごとを分離することができなくなるがそれでも良いですか？」といえば考慮はしてくれる（気がする）


# 基本的なアーキテクトスタイル一覧

それではアーキテクチャの一覧を見ていく。
今回は7種類のアーキテクチャについて触れる。

- 巨大な泥団子
- (レイヤードアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2001layerd_arch.md]
- (パイプラインアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2002pipline_arch.md]
- (マイクロカーネルアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2003micro_kernel.md]
- (サービスベースアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2004service_base_arch.md]
- (イベント駆動アーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2005event_driven_arch.md]
- (スペースベースアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2006space_base_arch.md]
- (マイクロサービスアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2008microservice_arch.md]

# アーキテクチャを選択する

## アーキテクチャの選択：モノシリックアーキテクチャと分散アーキテクチャ

モノシリックとは以下のアーキテクチャのこと

- 巨大な泥団子
- (レイヤードアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2001layerd_arch.md]
- (パイプラインアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2002pipline_arch.md]
- (マイクロカーネルアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2003micro_kernel.md]

分散アーキテクチャとは以下のアーキテクチャのこと

- (サービスベースアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2004service_base_arch.md]
- (イベント駆動アーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2005event_driven_arch.md]
- (スペースベースアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2006space_base_arch.md]
- (マイクロサービスアーキテクチャ)[https://techblog.short-tips.info/inhouse_se/2008microservice_arch.md]


## モノシリックアーキテクチャと分散アーキテクチャのメリットデメリット

現代では分散アーキテクチャの方が以下の点で優秀だ

- パフォーマンス

- スケーラビリティ
  
- 可用性

しかしこれにも一つの大きなトレードオフがある

それが**ネットワークを基盤とするために起こる不安定性**

例えば

- 途中でパケットが途切れることを考慮したコンポーネントをエンドポイントのロジックに与えなければならない

- ネットワーク自体は絶えず変化する

- ネットワークの帯域幅は無限ではない

などなど


## まとめ

**アーキテクトは常にトレードオフ**である



## 備考

title:アーキテクチャスタイル一覧

description:アーキテクトを学ぶ意義の理解。特に、アーキテクトスタイル（アーキテクチャパターン）のことについて。アーキテクトスタイルとは、さまざまなアーキテクチャ特性をカバーする、コンポーネント同士の名付けられた関係を説明するもの。


category_script:page_name.startswith("2")


img:https://cdn.mainichi.jp/vol1/2018/02/26/20180226oog00m010037000p/9.jpg?1
