
##poewrshellの「&」の意味とは!?

まずこのアンドマークには別名が存在しており

名前を「アンパサンド」という

powershellにおけるアンパサンドは「実行演算子」と呼ばれる役割が与えられており

<strong>文字列をコードとして認識して実行することができます。</strong>

##を使ったサンプルコード

&を使った実験です。 

サンプルコードではGet-Processを文字列として変数$string_codeに格納し二つの方法 表示します。 

パターンA:通常の文字列として表示

パターンB: コードとして実行し出力 Get-Processは""で囲まれているので文字列として普段は評価されますが、&を先頭に付け ることでコードとして評価できるようになるのです。

<pre><code> 
#"パターンA:通常の文字列として出力" 
$string_code = "Get-Process"

#"パターンB: コードとして実行して出力” 
$string_code 

& $string_code 
</code></pre>


実行結果 
<pre><code> 
パターンA:通常の文字列として出力 
Get-Process

パターンB: コードとして実行して出力 
Handles NPM(K) PM (K) WS (K)
CPU(s) Id SI Process Name

257 373
3540 9792
170000 aesm_service 12536 30108 1.20 9956 1 ApplicationFrame Host 147 1956 4496
58600 armsvc 369 5516 11788
58520 ast_CCore 127 1372 4588
10256 0 ast_CCoreComp
</code></pre>

このようにコード内にあるコードを実行するプログラミングを 

### メタプログラミングと呼びます

プログラミングのテクニックとしてはかなり高等技術です。

##&に隠されたもう一つの意味

powershellパンパサンドにはもう一つの役割が与えられております。

それはバックグランドでの実行です。 

バックグラウンドの実行とはユーザーから見えないところで実行してくれる仕組みのことです。

サンプルコード

<code><pre> 
Get-Process -Name pwsh & 
</pre></code> 

実行例(一例) 

<code><pre> 
発生場所 行:1 文字:24 + Get-Process -Name pwsh & アンパサンド(&)文字は許可されていません。
& 演算子は、今後使用するために予約されています。
アンパサンドを二重引用符で囲 み(&")、文字列の一部として渡してください。 
</pre></code>



しかし近年はバックグラウンド処理を目的とした&の実行は推奨されておらず

代わりにStart-Jobコマンドを使うことをおすすめしています。

<code><pre>
Start-Job -ScriptBlock {Get-Process -Name pwsh} 
</pre></code>

title:poewrshellの「&」の意味とは

description:powershellにおけるアンパサンドは「実行演算子」と呼ばれる役割が与えられており文字列をコードとして認識して実行することができます。

img:https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Hard_Link_Illustration.svg/1200px-Hard_Link_Illustration.svg.png

category_script:page_name.startswith("16")


