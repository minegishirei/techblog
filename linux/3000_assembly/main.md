

## アセンブリ言語とは


機械語の一個手前のプログラミング言語
C言語よりも低級。


### 具体例と用語

例えば

> 0x8bec 

は機械語であり、人間には読めないが

> MOC BX SP

は人間には何とか読める（SPをBXに代入せよという命令）
ここで、この一行の命令のことを**ニーモニック**と呼び、
これの集まりがアセンブリ言語である。

また、引数の一つ目を「第一オペラント」第二引数を「第二オペラント」と呼ぶ


https://www.youtube.com/watch?v=8EcHs4UGgMc

### サンプルコード（掛け算）

アセンブラでの掛け算は、アーキテクチャによって異なる方法があります。以下に、一般的なアセンブリ言語における掛け算の方法をいくつか紹介します。

1.  加算ループを使用する方法:
    この方法では、掛ける数を加算することで乗算を実現します。

```asm
; 例: AX = AX * BX

MOV CX, BX    ; BXをカウンタレジスタCXにコピー
MOV AX, 0     ; 結果を格納するレジスタAXを0に初期化

MUL_LOOP:
    ADD AX, CX    ; AXにCXを加算
    LOOP MUL_LOOP ; CXをデクリメントし、0でない場合はループ
```

- この例では、BXレジスタの値をAXレジスタに掛けます。
- CXレジスタはカウンタとして使用され、掛ける回数を表します。
- ループの中でAXにCXを加算し、CXをデクリメントします。
- CXが0になった時点でループを終了します。

要はBXの数だけAKを掛け合わせるということ。

2. CPUの掛け算を利用する方法
CPUによっては掛け算を用意してくれている。


### アセンブラ、アセンブリ、アセンブル

- アセンブラ；ソフトウェアのこと
- アセンブリ；言語のこと。
- アセンブル：動詞。

まとめると、**アセンブリをアセンブラでアセンブルする。**


### アセンブリ言語の大変なこと

アセンブリ言語はCPUと一対一対応している。
したがって、**CPUごとにニーモニックが異なる**
そのため、アセンブリ言語は断トツで断トツで難しい
覚える命令は少ないが...

コンパイル言語はさらに抽象化されているため、同じコードでCPUが動くし、言語がCPUによって変わることもない。


### アセンブリ言語のメリット

CPUの最適化ができるのがアセンブリ言語のメリット。
ただ、速度目的ではすでにコンパイラの最適化は素晴らしいことになっているので、人間がそこに介入する余地はない。

- コンピューターの気持ちが分かるようになる。
- アセンブラで動いているプログラムも0じゃない。そこではアセンブリ言語が必須。
- CPU開発
- カーネル、デバイスドライバ
- コンパイラ開発





## アセンブリ言語の基本命令セット

アセンブリ言語は、コンピュータアーキテクチャの命令セットに基づいて機械語命令を表現するための低レベルのプログラミング言語です。以下に、一般的なアセンブリ言語の基本的な命令をいくつか示しますが、具体的なアーキテクチャによって異なる場合があります。

1.  データ転送命令（Move Instructions）:
    * MOV: データをメモリからレジスタ、レジスタからメモリ、レジスタからレジスタへ転送します。
    * LDR: メモリからデータを読み込み、レジスタに格納します。
    * STR: レジスタの内容をメモリに書き込みます。
2.  算術・論理演算命令（Arithmetic/Logical Instructions）:
    * ADD: レジスタに値を加算します。
    * SUB: レジスタから値を減算します。
    * AND: レジスタと値の論理積を計算します。
    * OR: レジスタと値の論理和を計算します。
3.  制御命令（Control Instructions）:
    * JMP: プログラムの指定された場所にジャンプします。
    * CMP: レジスタの値を比較します。
    * JZ (Jump if Zero): Zフラグがセットされている場合に指定された場所にジャンプします。
4.  ループ制御命令（Loop Control Instructions）:
    * LOOP: ループのカウンタをデクリメントし、カウンタが0でない場合に指定された場所にジャンプします。
    * CMPとJZを組み合わせて使用することもあります。
5.  スタック操作命令（Stack Operation Instructions）:
    * PUSH: レジスタの内容をスタックにプッシュします。
    * POP: スタックから値をポップし、レジスタに格納します。

これらは一般的なアセンブリ言語の命令の一部です。実際のアーキテクチャやアセンブリ言語の詳細によって、他の命令や異なる構文が存在する場合があります。具体的なアセンブリ言語に関しては、対象とするアーキテクチャのドキュメントやリファレンスを参照してください。
















