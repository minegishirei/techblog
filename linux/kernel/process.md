


## Linuxカーネルのプロセス

### ユーザープロセスについて

ユーザープロセスとは文字通り、ユーザーの操作が元となり発生するプロセスのことです。

- ユーザーモードとカーネルモードを切り替えるための特別な命令がCPUには用意されています。
- そして、プログラムは大部分の時間がユーザーモードで実行されるため、カーネルモードに切り替わるのは、カーネルが提供するサービスを要求する場合のみです。ユーザーモードで実行されているときには、プログラムはカーネルデータやカーネルコードにアクセスすることはできません。

- カーネルのサービスを必要とするプロセスは、システムコールと呼ばれるプログラミング手続きでアクセスします。この命令をする際にはカーネルモードに切り替えるCPU命令を実行した後でなければなりません。


### カーネルスレッド

ユーザープロセス以外にも、カーネルスレッドと呼ばれる特別なプロセスがあります。

- システムの起動時に生成され、シャットダウンされるまで動作する
- ユーザとのやり取りはないため、端末デバイスがいらない
- カーネルアドレス空間にて、カーネルモードで動作する
    - ex) プロセスＩＤが1の`init`プロセスなど


### Linuxカーネルのそのほかの役割

- プロセスによるシステムコール
- 例外信号の発生。（命令が無効な場合など、何かしら異常な状態の処理）
- 周辺デバイスからCPUへの割り込み信号の発行。ＣＰＵの状態を注意するものや状態の変更などの事象を知らせるものであり、各割り込み信号あh、**割り込みハンドラ**と呼ばれるカーネルプログラムによって処理されます。
- カーネルスレッドの実行。






