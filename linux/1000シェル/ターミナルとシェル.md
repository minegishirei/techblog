


## そもそもターミナルとは？

テキストベースのLinuxのユーザーインターフェースを提供するプログラムです。

現在はアプリとして使用され、xterm、rxvt、gnomeなどがあります。


## ターミナルのショートカットキー

ターミナルは基本的な文字入力と出力に加えてエスケープシーケンスやエスケープコードをサポートし、
例えば
`Ctrl+H`でバックスペースと同じ意味になります。



- Ctrl+u カーソル位置から行頭まで削除 (重要)
- Ctrl+w カーソル位置から後側にある一単語分を削除 (重要)
- Ctrl+a カーソル位置を行頭へ移動 (重要)
- Ctrl+e カーソル位置を行末へ移動 (重要)


- alt+b カーソル１つ戻る
- alt+f カーソル一つ進む


## ターミナルの情報を出力する

```sh
infocmp
```


```sh
infocmp
```



# シェル

シェルはターミナル内で動作するアプリケーションです。
POSIXにおいて`sh`として定義されていますが、現在は`bash`が広く流行し、デフォルトとして使用されます。

しかしそのほかにも
`ksh`や`csh`など様々なシェルが開発されています。



## ストリーム


ストリームには入力ストリームと出力ストリームがあり、
この二つを組み合わせてi/oと呼びます。

基本的にすべてのシェルはすべてのプロセスに対して3つのファイルディスクリプタを用意しております。
ファイルディスクリプタとは、プログラムからファイルを操作する際、操作対象のファイルを識別・同定するために割り当てられる番号です。

- stdin  : FDは0
- stdout : FDは1
- stderr : FDは2

**そしてこれらのファイルディスクリプタは、デフォルトではそれぞれキーボードとスクリーンに接続されています。**

### を繋げることで行数を数えることができる。stdoutとstdin

`stdout`ディスクリプタは特に何も指定しなければスクリーンに接続されています。
したがって、
以下の実行結果はスクリーンに表示されるのです。

```sh
curl https://example.com
```

ところが、スクリーンに表示されるはずの出力結果をファイルに保存するやり方があります。
コマンドを入力したのちに`1> + [ファイル名]`を入力することで、実行結果をファイルに移すことができるのです。

```sh
curl https://example.com 1> test.file
```

ちなみに、

- 標準出力は`1>`
- エラー出力は`2>`

とエラー出力と実行結果の出力は明確に分けられており、この二つは以下のように分けることができます。

```sh
curl https://example.com 1> /tmp/content.txt 2> /tmp/curl-status
```




### dev/nullとは何か？


ちなみにlinuxには`/dev/null`という特別なファイルが存在しており、
ここにファイルディスクリプタをリダイレクトすると内容が棄却されます。（ファイル内に保存されもしないし、どこにも残らない）

```sh
cur https://example.com 1> /dev/null
```


### アンパサンド

コマンドの最後に置くとバックグラウンド実行が可能

```sh
cur https://example.com &
```


### バックスラッシュ

長いコマンドの改行が可能

```sh
cur https://example.com /
    1> result.txt
```

### パイプ

前方のコマンドによるプロセスのstdoutと後方のコマンドによるプロセスのstdinを繋げることが可能。

```sh
curl https://example.com > wc -l
```

この場合は、`curl`のstdoutと`wc -l`のstdinを繋げることで行数を数えることができる。




### そのほかの小技

`cat`はファイルの内容を出力するコマンドだが、引数が何もなければキーボードからの入力を表示するコマンドになる。
つまり、以下のようにしてメモを残すことが可能。

```sh
cat > memo.md
```


## 終了ステータス

シェル上で入力されるコマンドが終了したとき、終了ステータスが発行されます。

- `0` : 正常終了
- `1~255` : 異常終了

終了ステータスは`$?`に格納されており、次のように`echo`コマンドを使用することで確認できます。

```sh
echo $?
```























































































