

procfsについて


## procfsとは

- 通常`/proc`以下にマウントされるファイルシステム
- プロセスの情報が格納される
- ファイルシステムであり、`cat`や`ls`で参照できるがメモリ内部にある。（通常のファイルシステムはハードディスクにある）


## 中身を見てみる

まずは`echo $$`を実行。


> 実行例: `echo $$`
>
> 実行結果:`9667`


すると、ターミナルのプロセスIDが手に入る。

その後、`/proc`内部にある、入手したプロセスIDと合致するディレクトリを見つける。

> サンプル実行例
> 
> ```sh
> ll /proc/9667/
> ```
> 
>
> サンプル実行結果
> 
```
合計 0
dr-xr-xr-x   9 minegishiminami minegishiminami 0  6月 14 17:49 ./
dr-xr-xr-x 381 root            root            0  6月 14 14:20 ../
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 arch_status
dr-xr-xr-x   2 minegishiminami minegishiminami 0  6月 14 17:56 attr/
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 autogroup
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 auxv
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 cgroup
--w-------   1 minegishiminami minegishiminami 0  6月 14 17:56 clear_refs
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:50 cmdline
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 comm
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 coredump_filter
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 cpuset
lrwxrwxrwx   1 minegishiminami minegishiminami 0  6月 14 17:56 cwd -> /home/minegishiminami/myworking/
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 environ
lrwxrwxrwx   1 minegishiminami minegishiminami 0  6月 14 17:50 exe -> /bin/bash*
dr-x------   2 minegishiminami minegishiminami 0  6月 14 17:49 fd/
dr-x------   2 minegishiminami minegishiminami 0  6月 14 17:56 fdinfo/
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 gid_map
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 io
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 limits
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 loginuid
dr-x------   2 minegishiminami minegishiminami 0  6月 14 17:56 map_files/
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 maps
-rw-------   1 minegishiminami minegishiminami 0  6月 14 17:56 mem
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 mountinfo
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 mounts
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 mountstats
dr-xr-xr-x  59 minegishiminami minegishiminami 0  6月 14 17:56 net/
dr-x--x--x   2 minegishiminami minegishiminami 0  6月 14 17:56 ns/
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 numa_maps
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 oom_adj
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 oom_score
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 oom_score_adj
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 pagemap
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 patch_state
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 personality
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 projid_map
lrwxrwxrwx   1 minegishiminami minegishiminami 0  6月 14 17:56 root -> //
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 sched
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 schedstat
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 sessionid
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 setgroups
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 smaps
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 smaps_rollup
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 stack
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:50 stat
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 statm
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 status
-r--------   1 minegishiminami minegishiminami 0  6月 14 17:56 syscall
dr-xr-xr-x   3 minegishiminami minegishiminami 0  6月 14 17:56 task/
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 timers
-rw-rw-rw-   1 minegishiminami minegishiminami 0  6月 14 17:56 timerslack_ns
-rw-r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 uid_map
-r--r--r--   1 minegishiminami minegishiminami 0  6月 14 17:56 wchan
```
> 

現在進行形で開いているターミナルについての情報が大量に出てきた。

このproc配下には大量の情報がある。

### コマンドを見てみる

- `/proc/<PID>/cmdline`にはそのプロセスで起動したコマンドが格納される

> 実行例:`cat /proc/9667/cmdline`
>
> 実行結果:`bash`











