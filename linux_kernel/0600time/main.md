



## linuxの時間管理

コンピュータは時間に基づいて動いています。

- 画面をしばらく使用しないと自動的にロックされる > キーの押下、マウス移動からの経過時間をカーネルがタイマーを使用して把握している
- プログラムのタイムアウト処理はカーネルの機能によって駆動する



## linuxの時間管理に関するシステムコール

linuxが時間管理として提供するシステムコールは以下の三つです。

- `time()`
- `ftime()`
- `gettimeofday()`

カーネル自身もこの関数をタイムスタンプとして利用します。



### RTC（リアルタイムクロック）:定期的にCPU割り込みを発生させる独立した時計

すべてのPCにはリアルタイムクロックと呼ばれる時計が内蔵されており、他の機構とは独立しています。
（ボタン電池が内蔵されており、PCの電源が入っていないときでも動作し続ける）
リアルタイムクロックにはデフォルトで以下のような機能が備わっています。

- RTCが特定の時刻になったときに、割り込みを発生させるように設定する機能

また、デバイスファイル`/dev/rct`を利用することで、プロセスが`RTC`を設定することも可能です。



### TSC（タイムスタンプカウンタ）:プロセスの実行時間を計測しバランスを取る。

タイムスタンプカウンタはさまざまな目的で使用されています。例えば以下の通りです。

- `プロセススケジューリング`: Linuxカーネルは、複数のプロセスを管理してCPU時間を割り当てるスケジューリングを行います。タイムスタンプカウンタは、プロセスの実行時間を計測し、**フェアなスケジューリング**を行うために使用されます。これにより、各プロセスに適切なCPU時間が割り当てられ、効率的なタスク切り替えが行われます。









