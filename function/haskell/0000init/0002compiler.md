


## Haskellのコンパイラ

HaskellのメインのコンパイラはGHCと呼ばれます

GHCは(Glasgow Haskell Compiler)の略です。

- 名前の由来 : Glasgowは大学の名前で、グラスゴー大学で作られたことに由来しています。
- 言語 : コンパイラ自体もHaskellで書かれているが、ランタイム事態はC言語で書かれている。

ほかのコンパイラには`Hugs`と呼ばれるコンパイラが存在していますが、
GHCのほうがメジャーと言っていいでしょう。


## Haskellの実行方法


GHCの実行方法は以下の3パターンがあります。


- ghc : 早いネイティブコードを生成する最適化コンパイラ。ghcで実行する際には、対象ソースをコンパイルした後、出来上がったバイナリファイルを実行する必要があります。
- ghci : 対話型インタプリタ。デバッグやお試しなどで使います。
- runghc : `ghc`と異なり、コンパイルの手順を踏まずにコードを実行する。2度手間ではないが、遅い。



## ghciによる対話型インタプリタの起動

ghciを起動すると、`Prelude>`というプロンプトが現れます。
このプロンプトは`bash`や`powershell`のように、対話型のインタプリタです。

```hs
ghci > 2 + 4
6
ghci > "hello World"
"Hello"
```

ghciのインタプリタは`:`で始まる様々なオプションを使用することで、カスタマイズが可能になってます。


### モジュールの利用

ちなみに、`Prelude`はモジュールの名前であり、関数やライブラリが標準インストールされています。
それ以外のモジュールをロードする際には、`:module`コマンドを使用します。

```hs
ghci > :module + random
```

これでrandomモジュールが使えるようになりました。






## runghcによるスクリプト実行

コンパイルの手順を踏まずにコードを実行するには、`runghc`コマンドを活用してください。

- 手順１　：まずは、以下のコードを`main.hs`という名前で保存してください。

```hs
main = putStrLn "Hello World"
```

- 手順２　：`rungch main.hs`と入力し、実行してください。

- 手順３　：`Hello World`と表示されたら完了です。



## ghcコマンドによる実行方法


この実行方法が最もオーソドックスな実行方法です。

- 手順１　：まずは、以下のコードを`main.hs`という名前で保存してください。

```hs
main = putStrLn "Hello World"
```

- 手順２　：次に、`main.hs`と同じ階層まで`cd`コマンドなどで移動してください。

- 手順３　：次のコマンドを使用して、`main.hs`をコンパイルします。

```sh
ghci main.hs
```

- 手順４　：`ls`コマンドでコンパイルが出来たかどうかを確認します。新たに`main`プログラムが作成されていればコンパイル完了です。

- 手順５　：`./main`コマンドで、先ほどコンパイルされたファイルを実行します。`Hello World`と出力されれば完了です。















page:https://minegishirei.hatenablog.com/entry/2024/01/18/091140
