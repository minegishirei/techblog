

## リファラーとは

ユーザーがどの経路からウェブサイトに到着したかをサーバーが把握するために、クライアントがサーバーに送るヘッダーです。

スペルが本来の英語「referrer」と異なるのですが、これはスペルミスをそのまま残ってしまったということです。

## aタグリンクを使って遷移する場合

クライアントが「http://www.example.com/link.html」のリンクをクリックして別のサイトにジャンプする時、ジャンプする先のサーバーにリンク元ページのURLを以下の形式で送信します。

<pre><code>
Referer: http://www.example.com/link.html
</code></pre>

また、ウェブサイトが画像やスクリプトを取得する場合は、これらのリソースへのリクエスト時に、それを利用しているHTMLファイルのURLが参照元URLとして送信されます。

<img src="https://www.videor.co.jp/digestplus/images/cb1434fa0f6f8445cb40930cd3bdebb0.png">

参考:https://www.videor.co.jp/digestplus/market/2018/09/12212.html


## aタグ以外の遷移

もし、ブックマークから移動したり、URLバーでキーボードからて入力した場合は、Refererタグそのものを遷移しない。

もしくは、Referer: about:blankを送信します。

## aタグで_blankをつける


HTMLの記述をする中で、リンクを新しいタブで開く必要がある場合は、単にtarget="_blank" を使用して対応することも可能。

<pre><code>
a target="_blank" href="http://www.example.com/link.html" /a
</code></pre>

このようにすることで別のタブでサイトが開かれるようになります。

また、この場合もReferer: about:blankを送信します。


## 検索ワード追跡

検索エンジンは検索結果を「q=検索用語」といった形式のURLで表示します。

ブラウザがこのURLをリファラーとして送信すると、Webサーバーはどのような検索用語でそのウェブサイトに到達したのかを知ることができます。


## リファラー制御

防衛的な用途として、画像に直接リンクされるのを防ぐ目的で、画像のダウンロード時にリファラーが設定されていないものは拒絶するという使い方をすることがあります。





## 備考

title:遷移前のページURLをヘッダーから取得する方法




